# Sibur Job Challenge

## Задание

### Программа генерации текстов на основе цепочек Маркова

Программа на Python3 принимает 4 параметра: входной текстовый файл, имя файла в который сохранить результат, количество слов, определяющих состояние N (0<N<20), количество слов в выходном тексте L .
Входной и выходной файл в UTF-8
Программа читает входной файл, и для каждой цепочки слов длинной N определяет вероятность N+1 слова. В случае если цепочка встречается в тексте ровно 1 раз в самом конце, то игнорируем.

Например: N=2, а входной текст:

**ааа ббб ввв ааа ббб ггг ввв ааа ддд ккк**

Тогда:

**ааа ббб -> ввв 50%, ггг 50%**

**ббб ввв -> aaa 100%**

**ввв ааа -> ббб 50%, ддд 50%**

**ббб ггг -> ввв**

**ггг ввв -> ааа**

**ааа ддд ->ккк**


Вероятность встречания слов: **ааа 30%, ббб 20%, ввв 20%, ггг 10%, ддд 10%, ккк 10%**

После вычисления вероятности, запускается этап синтеза. Надо сгенерировать текст длинной L слов. Первые N слов выбираются случайно из слов встреченных в исходном тексте, пропорционально частоте встречания. Каждое следующее слово, выбирается случайно, в зависимости от вероятности встречания для последних N слов. Если вариантов нет, то из всего словаря пропорционально встречаемости.

В нашем примере:

Первые 2 слова генерируем случайно из распределения вероятности слов:

**ааа 30%, ббб 20%, ввв 20%, ггг 10%, ддд 10%, ккк 10%**

допустим получилось: ггг ааа, вариантов в табличке нет, генерируем еще слово из общего распределения, допустим стало ггг ааа ббб, вариант ааа ббб есть таблице, то есть следующее слово выбираем из распределения ввв 50%, ггг 50%
Словом считаем любую непрерывную последовательность букв русского алфавита. Не различаем большие и маленькие буквы. Разделителям считается пробел, tab (/t), перенос строки (/n или /r). Несколько разделителей подряд считаем за один. Знаки точка “.” и запятая “,” всегда считается отдельными словом, даже если не отделены разделителем от других знаков. Прочие знаки игнорируем.

В выходном тексте писать слова в нижнем регистре. Слова должны быть разделены пробелом. Слова точка “.” и запятая “,” не должны отделяться пробелом от предыдущего слова. Слово следующее за знаком точка “.” должно писаться с большой буквы. Нельзя допускать в выходном файле, что бы спец слова точка “.” и запятая “,” шли подряд.

Можно пользоваться любыми библиотеками общего назначения, библиотека реализующей цепочки Маркова из коробки пользоваться нельзя, но если вы ее найдете, то можете дополнительно указать.

[Цепочки маркова](http://rain.ifmo.ru/cat/view.php/theory/processes-automata/markov-2008)
